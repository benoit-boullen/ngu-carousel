{"version":3,"sources":["ng://@hypecode/carousel/lib/ngu-carousel/ngu-carousel.ts","ng://@hypecode/carousel/lib/ngu-carousel.service.ts","node_modules/tslib/tslib.es6.js","ng://@hypecode/carousel/lib/ngu-carousel.directive.ts","ng://@hypecode/carousel/lib/logger.service.ts","ng://@hypecode/carousel/lib/ngu-carousel/ngu-carousel.component.ts","ng://@hypecode/carousel/lib/ngu-item/ngu-item.component.ts","ng://@hypecode/carousel/lib/ngu-tile/ngu-tile.component.ts","ng://@hypecode/carousel/lib/ngu-carousel.module.ts"],"names":["NguCarouselStore","touch","vertical","interval","transform","button","visibleItems","deviceType","type","token","items","load","_carouselWidth","itemWidth","slideItems","itemWidthPer","itemLength","currentSlide","easing","speed","loop","dexVal","touchTransform","isEnd","isFirst","isLast","RTL","point","velocity","Touch","Vertical","NguTransfrom","this","deviceWidth","ItemsControl","NguButton","xs","sm","md","lg","all","NguCarouselConfig","NguCarouselOutletContext","data","$implicit","NguCarouselService","prototype","setCarousel","carousel","getCarousel","Injectable","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","NguCarouselItemDirective","Directive","args","selector","NguCarouselNextDirective","NguCarouselPrevDirective","NguCarouselPointDirective","NguCarouselDefDirective","template","TemplateRef","NguCarouselOutlet","viewContainer","ViewContainerRef","NguCarouselWrapperDirective","ElementRef","Off","Error","Warning","Info","Debug","log","Logger","source","enableProductionMode","level","LogLevel","resetSum","sumTiming","timing","tag","display","Date","logs","previousTime","diff","getTime","unshift","getSeconds","getMilliseconds","console","debug","objects","_i","arguments","length","info","warn","error","func","_this","concat","apply","outputs","forEach","output","NguCarousel","_super","_el","_renderer","_differs","platformId","cdr","carouselService","call","isHovered","pointNumbers","onMove","EventEmitter","withAnim","carouselLoad","_intervalController$","Subject","__extends","__","constructor","create","tslib_1.__extends","defineProperty","_dataSource","_switchDataSource","btn","listener2","listen","nativeElement","_carouselScrollOne","listener1","_trackByFn","fn","isDevMode","JSON","stringify","ngOnInit","_dataDiffer","find","item","trackBy","dataIndex","ngDoCheck","arrayChanges","dataSource","_defDirec","_observeRenderChanges","ngAfterViewInit","_inputValidation","carouselCssNode","_createStyleElem","window","_carouselInterval","enabled","_touch","listener3","event","_onResizing","_onWindowScrolling","ngAfterContentInit","markForCheck","reset","withOutAnimation","innerHTML","moveTo","_carouselPoint","slide","activePoint","pointIndex","slideremains","btns","_btnBoolean","_carouselScrollTwo","ngOnDestroy","carouselInt","unsubscribe","complete","i","str","renderNodeChanges","_nodeOutlet","forEachOperation","adjustedPreviousIndex","currentIndex","node","_getNodeDef","previousIndex","context","index","createEmbeddedView","remove","clear","view","get","move","_updateItemIndexContext","_storeCarouselData","renderIndex","count","first","last","even","odd","def","when","_defaultNodeDef","dataStream","Observable","isArray","of","_dataSubscription","pipe","takeUntil","subscribe","inputs","grid","active","height","directionSym","visible","_carouselSize","clearTimeout","onResize","setTimeout","target","outerWidth","_setStyle","nguItemsContainer","refreshCarouselWidth","offsetWidth","hammertime","Hammer","touchContainer","set","direction","DIRECTION_HORIZONTAL","on","ev","_touchHandling","srcEvent","stopPropagation","e","carouselWidth","center","x","valt","Math","abs","deltaY","deltaX","swipe","_setTouchTransfrom","_setTransformFromTouch","condition","maxTranslate","carouselMain1","emit","top","offsetTop","scrollY","heightt","innerHeight","carouselHeight","offsetHeight","next","ceil","Nos","pointers","hideOnSingleSlide","push","_carouselPointActiver","_generateID","dism","styleid","custom","addClass","animation","itemStyle","setStyle","Btn","itemSpeed","touchMove","MoveSlide","val","somt","floor","_carouselAnimator","_transformStyle","_carouselLoadTrigger","_transformString","collect","slideCss","text","possible","charAt","random","container","listener4","onScrolling","play$_1","fromEvent","mapTo","pause$_1","touchPlay$_1","touchPause$_1","interval$_1","merge","startWith","switchMap","empty","res","initialDelay","_updateItemIndexContextAni","start","end","collectIndex","viewRef","animate","value","params","distance","_removeAnimations","indexs","el","prop","datas","styleItem","createElement","styleText","createText","appendChild","Component","viewProviders","providers","changeDetection","ChangeDetectionStrategy","OnPush","Renderer2","IterableDiffers","decorators","Inject","PLATFORM_ID","ChangeDetectorRef","ViewChild","Output","ContentChildren","Input","read","ContentChild","NguItemComponent","classes","HostBinding","NguTileComponent","NguCarouselModule","NgModule","imports","CommonModule","exports","declarations"],"mappings":"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","sourcesContent":["export class NguCarouselStore {\r\n  public static deviceWidth = 0;\r\n  constructor(\r\n    public touch = new Touch(),\r\n    public vertical = new Vertical(),\r\n    public interval?: CarouselInterval,\r\n    public transform = new NguTransfrom(),\r\n    public button?: NguButton,\r\n    public visibleItems?: ItemsControl,\r\n    public deviceType?: DeviceType,\r\n    public type = 'fixed',\r\n    public token = '',\r\n    public items = 0,\r\n    public load = 0,\r\n    protected _carouselWidth = 0,\r\n    public itemWidth = 0,\r\n    public slideItems = 0,\r\n    public itemWidthPer = 0,\r\n    public itemLength = 0,\r\n    public currentSlide = 0,\r\n    public easing = 'cubic-bezier(0, 0, 0.2, 1)',\r\n    public speed = 200,\r\n    public loop = false,\r\n    public dexVal = 0,\r\n    public touchTransform = 0,\r\n    public isEnd = false,\r\n    public isFirst = true,\r\n    public isLast = false,\r\n    public RTL = false,\r\n    public point = true,\r\n    public velocity = 1\r\n  ) {}\r\n}\r\nexport type DeviceType = 'xs' | 'sm' | 'md' | 'lg' | 'all';\r\n\r\nexport type ButtonVisible = 'disabled' | 'hide';\r\n\r\nexport class ItemsControl {\r\n  start: number;\r\n  end: number;\r\n}\r\n\r\nexport class Vertical {\r\n  enabled: boolean;\r\n  height: number;\r\n  // numHeight?: number;\r\n}\r\n\r\nexport class NguButton {\r\n  visibility?: ButtonVisible;\r\n  elastic?: number;\r\n}\r\n\r\nexport class Touch {\r\n  active?: boolean;\r\n  swipe: string;\r\n  velocity: number;\r\n}\r\n\r\nexport class NguTransfrom {\r\n  constructor(\r\n    public xs = 0,\r\n    public sm = 0,\r\n    public md = 0,\r\n    public lg = 0,\r\n    public all = 0\r\n  ) {}\r\n}\r\n\r\nexport class NguCarouselConfig {\r\n  grid: NguTransfrom;\r\n  slide?: number;\r\n  speed?: number;\r\n  interval?: CarouselInterval;\r\n  animation?: Animate;\r\n  point?: Point;\r\n  type?: string;\r\n  load?: number;\r\n  custom?: Custom;\r\n  loop?: boolean;\r\n  touch?: boolean;\r\n  easing?: string;\r\n  RTL?: boolean;\r\n  button?: NguButton;\r\n  vertical?: Vertical;\r\n  velocity?: number;\r\n}\r\n\r\nexport type Custom = 'banner';\r\nexport type Animate = 'lazy';\r\n\r\nexport interface Point {\r\n  visible: boolean;\r\n  hideOnSingleSlide?: boolean;\r\n}\r\n\r\nexport interface Animation {\r\n  type?: Animate;\r\n  animateStyles?: AnimationStyles;\r\n}\r\n\r\nexport interface AnimationStyles {\r\n  style?: string;\r\n  open?: string;\r\n  close?: string;\r\n  stagger?: number;\r\n}\r\n\r\nexport interface CarouselInterval {\r\n  timing: number;\r\n  initialDelay?: number;\r\n}\r\n\r\nexport class NguCarouselOutletContext<T> {\r\n  /** Data for the node. */\r\n  $implicit: T;\r\n\r\n  /** Depth of the node. */\r\n  level: number;\r\n\r\n  /** Index location of the node. */\r\n  index?: number;\r\n\r\n  /** Length of the number of total dataNodes. */\r\n  count?: number;\r\n\r\n  constructor(data: T) {\r\n    this.$implicit = data;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { NguCarousel } from './ngu-carousel/ngu-carousel.component';\r\n\r\n@Injectable()\r\nexport class NguCarouselService {\r\n\r\n\r\n  carousel: NguCarousel<any>;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  setCarousel(carousel: NguCarousel<any>) {\r\n    this.carousel = carousel;\r\n  }\r\n\r\n  getCarousel(): NguCarousel<any> {\r\n    return this.carousel;\r\n  }\r\n\r\n\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Directive, ElementRef, TemplateRef, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[NguCarouselItem]'\r\n})\r\nexport class NguCarouselItemDirective {}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[NguCarouselNext]'\r\n})\r\nexport class NguCarouselNextDirective {\r\n  // @HostBinding('disabled') disabled: boolean;\r\n  // @HostBinding('style.display') display = 'block';\r\n  // @HostListener('click')\r\n  // onClick() {\r\n  // }\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[NguCarouselPrev]'\r\n})\r\nexport class NguCarouselPrevDirective {\r\n  // @HostBinding('disabled') disabled: boolean;\r\n  // @HostBinding('style.display') display = 'block';\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[NguCarouselPoint]'\r\n})\r\nexport class NguCarouselPointDirective {}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[nguCarouselDef]'\r\n})\r\nexport class NguCarouselDefDirective<T> {\r\n  when: (index: number, nodeData: T) => boolean;\r\n\r\n  constructor(public template: TemplateRef<any>) {}\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[nguCarouselOutlet]'\r\n})\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport class NguCarouselOutlet {\r\n  constructor(public viewContainer: ViewContainerRef) {}\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[nguCarouselWrapper]'\r\n})\r\nexport class NguCarouselWrapperDirective {\r\n  constructor(public template: ElementRef<any>) {}\r\n}\r\n","/**\r\n * Simple logger system with the possibility of registering custom outputs.\r\n *\r\n * 4 different log levels are provided, with corresponding methods:\r\n * - debug   : for debug information\r\n * - info    : for informative status of the application (success, ...)\r\n * - warning : for non-critical errors that do not prevent normal application behavior\r\n * - error   : for critical errors that prevent normal application behavior\r\n *\r\n * Example usage:\r\n * ```\r\n * import { Logger } from 'app/core/logger.service';\r\n *\r\n * const log = new Logger('myFile');\r\n * ...\r\n * log.debug('something happened');\r\n * ```\r\n *\r\n * To disable debug and info logs in production, add this snippet to your root component:\r\n * ```\r\n * export class AppComponent implements OnInit {\r\n *   ngOnInit() {\r\n *     if (environment.production) {\r\n *       Logger.enableProductionMode();\r\n *     }\r\n *     ...\r\n *   }\r\n * }\r\n *\r\n * If you want to process logs through other outputs than console, you can add LogOutput functions to Logger.outputs.\r\n */\r\n\r\n/**\r\n * The possible log levels.\r\n * LogLevel.Off is never emitted and only used with Logger.level property to disable logs.\r\n */\r\nexport enum LogLevel {\r\n  Off = 0,\r\n  Error,\r\n  Warning,\r\n  Info,\r\n  Debug\r\n}\r\n\r\n/**\r\n * Log output handler function.\r\n */\r\nexport type LogOutput = (source: string, level: LogLevel, ...objects: any[]) => void;\r\n\r\nexport class Logger {\r\n\r\n  /**\r\n   * Current logging level.\r\n   * Set it to LogLevel.Off to disable logs completely.\r\n   */\r\n  static level = LogLevel.Debug;\r\n\r\n  /**\r\n   * Additional log outputs.\r\n   */\r\n  static outputs: LogOutput[] = [];\r\n\r\n  static previousTime: Date = null;\r\n\r\n  public static sumTiming: any = {};\r\n\r\n  constructor(private source?: string) {\r\n  }\r\n\r\n  /**\r\n   * Enables production mode.\r\n   * Sets logging level to LogLevel.Warning.\r\n   */\r\n  static enableProductionMode() {\r\n    Logger.level = LogLevel.Warning;\r\n  }\r\n\r\n  resetSum() {\r\n    Logger.sumTiming = {};\r\n  }\r\n\r\n  timing(tag: string, display: boolean = false) {\r\n    const d = new Date();\r\n\r\n    const logs: any[] = [tag];\r\n\r\n    if (Logger.previousTime) {\r\n      const diff = d.getTime() - Logger.previousTime.getTime();\r\n      logs.unshift('[' + diff + ']');\r\n      if (!Logger.sumTiming[tag]) {\r\n        Logger.sumTiming[tag] = 0;\r\n      }\r\n      Logger.sumTiming[tag] += diff;\r\n    }\r\n    Logger.previousTime = d;\r\n    logs.unshift(d.getSeconds() + '.' + d.getMilliseconds());\r\n    if (display) {\r\n      this.log(console.log, LogLevel.Info, logs);\r\n    }\r\n  }\r\n  /**\r\n   * Logs messages or objects  with the debug level.\r\n   * Works the same as console.log().\r\n   */\r\n  debug(...objects: any[]) {\r\n    this.log(console.log, LogLevel.Debug, objects);\r\n  }\r\n\r\n  /**\r\n   * Logs messages or objects  with the info level.\r\n   * Works the same as console.log().\r\n   */\r\n  info(...objects: any[]) {\r\n    this.log(console.info, LogLevel.Info, objects);\r\n  }\r\n\r\n  /**\r\n   * Logs messages or objects  with the warning level.\r\n   * Works the same as console.log().\r\n   */\r\n  warn(...objects: any[]) {\r\n    this.log(console.warn, LogLevel.Warning, objects);\r\n  }\r\n\r\n  /**\r\n   * Logs messages or objects  with the error level.\r\n   * Works the same as console.log().\r\n   */\r\n  error(...objects: any[]) {\r\n    this.log(console.error, LogLevel.Error, objects);\r\n  }\r\n\r\n  private log(func: Function, level: LogLevel, objects: any[]) {\r\n    if (level <= Logger.level) {\r\n      const log = this.source ? ['[' + this.source + ']'].concat(objects) : objects;\r\n      func.apply(console, log);\r\n      Logger.outputs.forEach((output) => output.apply(output, [this.source, level].concat(objects)));\r\n    }\r\n  }\r\n\r\n}\r\n","import { isPlatformBrowser } from '@angular/common';\r\nimport {\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  DoCheck,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  isDevMode,\r\n  IterableChangeRecord,\r\n  IterableChanges,\r\n  IterableDiffer,\r\n  IterableDiffers,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  PLATFORM_ID,\r\n  QueryList,\r\n  Renderer2,\r\n  TrackByFunction,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport { empty, fromEvent, interval, merge, Observable, of, Subject, Subscription } from 'rxjs';\r\nimport { mapTo, startWith, switchMap, takeUntil } from 'rxjs/operators';\r\n\r\nimport { NguCarouselConfig, NguCarouselOutletContext, NguCarouselStore } from './ngu-carousel';\r\nimport { NguCarouselService } from '../ngu-carousel.service';\r\nimport {\r\n  NguCarouselDefDirective,\r\n  NguCarouselNextDirective,\r\n  NguCarouselOutlet,\r\n  NguCarouselPrevDirective,\r\n  NguCarouselWrapperDirective\r\n} from '../ngu-carousel.directive';\r\nimport { Logger } from '../logger.service';\r\n\r\nconst log = new Logger('NgUCarousel');\r\n\r\n// TODO calculer la taille possible pour le .ngucarsoul en fonction des boutons prev/next\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'ngu-carousel',\r\n  templateUrl: 'ngu-carousel.component.html',\r\n  styleUrls: ['ngu-carousel.component.scss'],\r\n  viewProviders: [NguCarouselService],\r\n  providers: [NguCarouselService],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\n// tslint:disable-next-line:component-class-suffix\r\nexport class NguCarousel<T> extends NguCarouselStore\r\n  implements OnInit, AfterContentInit, AfterViewInit, OnDestroy, DoCheck {\r\n  _dataSubscription: Subscription;\r\n  _dataDiffer: IterableDiffer<{}>;\r\n  styleid: string;\r\n  activePoint: number;\r\n  isHovered = false;\r\n  // isFirstss = 0;\r\n  arrayChanges: IterableChanges<{}>;\r\n  carouselInt: Subscription;\r\n  @ViewChild(NguCarouselOutlet)\r\n  _nodeOutlet: NguCarouselOutlet;\r\n  @ViewChild(NguCarouselWrapperDirective)\r\n  _carouselWrapper: NguCarouselWrapperDirective;\r\n  pointNumbers: Array<any> = [];\r\n  // isFirstss = 0;\r\n  listener1: () => void;\r\n  listener2: () => void;\r\n  listener3: () => void;\r\n  listener4: () => void;\r\n  // tslint:disable-next-line:no-output-on-prefix\r\n  @Output('onMove')\r\n  public onMove = new EventEmitter<NguCarousel<T>>();\r\n  private _defaultNodeDef: NguCarouselDefDirective<any> | null;\r\n  @ContentChildren(NguCarouselDefDirective)\r\n  private _defDirec: QueryList<NguCarouselDefDirective<any>>;\r\n  private directionSym: string;\r\n  private carouselCssNode: any;\r\n  private pointIndex: number;\r\n  private withAnim = true;\r\n  @Input('inputs')\r\n  private inputs: NguCarouselConfig;\r\n  @Output('carouselLoad')\r\n  private carouselLoad = new EventEmitter();\r\n  @ViewChild('ngucarousel', {read: ElementRef})\r\n  private carouselMain1: ElementRef;\r\n\r\n  @ViewChild('nguItemsContainer', {read: ElementRef})\r\n  private nguItemsContainer: ElementRef;\r\n\r\n  @ViewChild('touchContainer', {read: ElementRef})\r\n  private touchContainer: ElementRef;\r\n  private _intervalController$ = new Subject<number>();\r\n  private carousel: any;\r\n  private onResize: any;\r\n  private onScrolling: any;\r\n  private _trackByFn: TrackByFunction<T>;\r\n\r\n  // protected _carouselWidth = 0;\r\n\r\n  constructor(\r\n    private _el: ElementRef,\r\n    private _renderer: Renderer2,\r\n    private _differs: IterableDiffers,\r\n    @Inject(PLATFORM_ID) private platformId: Object,\r\n    private cdr: ChangeDetectorRef,\r\n    private carouselService: NguCarouselService\r\n  ) {\r\n    super();\r\n    this.carouselService.setCarousel(this);\r\n  }\r\n\r\n  _dataSource: any;\r\n\r\n  @Input('dataSource')\r\n  get dataSource(): any {\r\n    return this._dataSource;\r\n  }\r\n\r\n  set dataSource(data: any) {\r\n    if (data) {\r\n      // console.log(data, this.dataSource);\r\n      // this.isFirstss++;\r\n      this._switchDataSource(data);\r\n    }\r\n  }\r\n\r\n\r\n  /** The setter is used to catch the button if the button has ngIf\r\n   * issue id #91\r\n   */\r\n  @ContentChild(NguCarouselNextDirective, {read: ElementRef})\r\n  set nextBtn(btn: ElementRef) {\r\n    this.listener2 && this.listener2();\r\n    if (btn) {\r\n      this.listener2 = this._renderer.listen(btn.nativeElement, 'click', () =>\r\n        this._carouselScrollOne(1)\r\n      );\r\n    }\r\n  }\r\n\r\n  /** The setter is used to catch the button if the button has ngIf\r\n   * issue id #91\r\n   */\r\n  @ContentChild(NguCarouselPrevDirective, {read: ElementRef})\r\n  set prevBtn(btn: ElementRef) {\r\n    this.listener1 && this.listener1();\r\n    if (btn) {\r\n      this.listener1 = this._renderer.listen(btn.nativeElement, 'click', () =>\r\n        this._carouselScrollOne(0)\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Tracking function that will be used to check the differences in data changes. Used similarly\r\n   * to `ngFor` `trackBy` function. Optimize Items operations by identifying a Items based on its data\r\n   * relative to the function to know if a Items should be added/removed/moved.\r\n   * Accepts a function that takes two parameters, `index` and `item`.\r\n   */\r\n  @Input()\r\n  get trackBy(): TrackByFunction<T> {\r\n    return this._trackByFn;\r\n  }\r\n\r\n  set trackBy(fn: TrackByFunction<T>) {\r\n    if (\r\n      isDevMode() &&\r\n      fn != null &&\r\n      typeof fn !== 'function' &&\r\n      <any>console &&\r\n      <any>console.warn\r\n    ) {\r\n      console.warn(\r\n        `trackBy must be a function, but received ${JSON.stringify(fn)}.`\r\n      );\r\n    }\r\n    this._trackByFn = fn;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this._dataDiffer = this._differs\r\n      .find([])\r\n      .create((_i: number, item: any) => {\r\n        return this.trackBy ? this.trackBy(item.dataIndex, item.data) : item;\r\n      });\r\n  }\r\n\r\n  ngDoCheck() {\r\n    this.arrayChanges = this._dataDiffer.diff(this.dataSource);\r\n\r\n    if (this.arrayChanges && this._defDirec) {\r\n      // console.log('Changes detected!');\r\n      this._observeRenderChanges();\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.carousel = this._el.nativeElement;\r\n    this._inputValidation();\r\n\r\n    this.carouselCssNode = this._createStyleElem();\r\n\r\n    // this._buttonControl();\r\n\r\n    if (window) {\r\n      this._carouselInterval();\r\n      if (!this.vertical.enabled) {\r\n        this._touch();\r\n      }\r\n      this.listener3 = this._renderer.listen('window', 'resize', event => {\r\n        this._onResizing(event);\r\n      });\r\n      this._onWindowScrolling();\r\n    }\r\n\r\n\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    this._observeRenderChanges();\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n\r\n  /** Used to reset the carousel */\r\n  public reset(withOutAnimation?: boolean): void {\r\n    withOutAnimation && (this.withAnim = false);\r\n    if (this.carouselCssNode) {\r\n      this.carouselCssNode.innerHTML = '';\r\n\r\n      this.moveTo(0);\r\n      this._carouselPoint();\r\n    }\r\n  }\r\n\r\n  /** this function is used to scoll the carousel when point is clicked */\r\n  public moveTo(slide: number, withOutAnimation?: boolean) {\r\n    // slide = slide - 1;\r\n    withOutAnimation && (this.withAnim = false);\r\n    if (this.activePoint !== slide && slide < this.pointIndex) {\r\n      let slideremains;\r\n      const btns = this.currentSlide < slide ? 1 : 0;\r\n\r\n      switch (slide) {\r\n        case 0:\r\n          this._btnBoolean(1, 0);\r\n          slideremains = slide * this.slideItems;\r\n          break;\r\n        case this.pointIndex - 1:\r\n          this._btnBoolean(0, 1);\r\n          slideremains = this.dataSource.length - this.items;\r\n          break;\r\n        default:\r\n          this._btnBoolean(0, 0);\r\n          slideremains = slide * this.slideItems;\r\n      }\r\n      this._carouselScrollTwo(btns, slideremains, this.speed);\r\n    }\r\n  }\r\n\r\n\r\n  ngOnDestroy() {\r\n    // clearInterval(this.carouselInt);\r\n    this.carouselInt && this.carouselInt.unsubscribe();\r\n    this._intervalController$.unsubscribe();\r\n    this.carouselLoad.complete();\r\n    this.onMove.complete();\r\n\r\n    /** remove listeners */\r\n    for (let i = 1; i <= 4; i++) {\r\n      const str = `listener${i}`;\r\n      this[str] && this[str]();\r\n    }\r\n  }\r\n\r\n  private _switchDataSource(dataSource: any): any {\r\n    this._dataSource = dataSource;\r\n    if (this._defDirec) {\r\n      this._observeRenderChanges();\r\n    }\r\n  }\r\n\r\n  private renderNodeChanges(\r\n    data: any[],\r\n    viewContainer: ViewContainerRef = this._nodeOutlet.viewContainer\r\n  ) {\r\n\r\n    if (!this.arrayChanges) return;\r\n    this.arrayChanges.forEachOperation(\r\n      (\r\n        item: IterableChangeRecord<any>,\r\n        adjustedPreviousIndex: number,\r\n        currentIndex: number\r\n      ) => {\r\n        const node = this._getNodeDef(data[currentIndex], currentIndex);\r\n        if (item.previousIndex === null) {\r\n          const context = new NguCarouselOutletContext<any>(data[currentIndex]);\r\n          context.index = currentIndex;\r\n          viewContainer.createEmbeddedView(\r\n            node.template,\r\n            context,\r\n            currentIndex\r\n          );\r\n        } else if (currentIndex === null) {\r\n          viewContainer.remove(adjustedPreviousIndex);\r\n          viewContainer.clear();\r\n        } else {\r\n          const view = viewContainer.get(adjustedPreviousIndex);\r\n          viewContainer.move(view, currentIndex);\r\n        }\r\n      }\r\n    );\r\n    this._updateItemIndexContext();\r\n\r\n    if (this.carousel) {\r\n      this._storeCarouselData();\r\n    }\r\n    // console.log(this.dataSource);\r\n  }\r\n\r\n  /**\r\n   * Updates the index-related context for each row to reflect any changes in the index of the rows,\r\n   * e.g. first/last/even/odd.\r\n   */\r\n  private _updateItemIndexContext() {\r\n    const viewContainer = this._nodeOutlet.viewContainer;\r\n    for (\r\n      let renderIndex = 0, count = viewContainer.length;\r\n      renderIndex < count;\r\n      renderIndex++\r\n    ) {\r\n      const viewRef = viewContainer.get(renderIndex) as any;\r\n      const context = viewRef.context as any;\r\n      context.count = count;\r\n\r\n      context.first = renderIndex === 0;\r\n      context.last = renderIndex === count - 1;\r\n      context.even = renderIndex % 2 === 0;\r\n      context.odd = !context.even;\r\n      context.index = renderIndex;\r\n    }\r\n  }\r\n\r\n  private _getNodeDef(data: any, i: number): NguCarouselDefDirective<any> {\r\n    // console.log(this._defDirec);\r\n    if (this._defDirec.length === 1) {\r\n      return this._defDirec.first;\r\n    }\r\n\r\n    const nodeDef =\r\n      this._defDirec.find(def => def.when && def.when(i, data)) ||\r\n      this._defaultNodeDef;\r\n\r\n    return nodeDef;\r\n  }\r\n\r\n  private _observeRenderChanges() {\r\n    let dataStream: Observable<any[]> | undefined;\r\n\r\n    if (this._dataSource instanceof Observable) {\r\n      dataStream = this._dataSource;\r\n    } else if (Array.isArray(this._dataSource)) {\r\n      dataStream = of(this._dataSource);\r\n    }\r\n\r\n    if (dataStream) {\r\n      this._dataSubscription = dataStream\r\n        .pipe(takeUntil(this._intervalController$))\r\n        .subscribe(data => {\r\n          this.renderNodeChanges(data);\r\n          this.isLast = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  private _inputValidation() {\r\n    this.type = this.inputs.grid.all !== 0 ? 'fixed' : 'responsive';\r\n    this.loop = this.inputs.loop || false;\r\n    this.inputs.easing = this.inputs.easing || 'cubic-bezier(0, 0, 0.2, 1)';\r\n    this.touch.active = this.inputs.touch || false;\r\n    this.RTL = this.inputs.RTL ? true : false;\r\n    this.interval = this.inputs.interval || null;\r\n    this.velocity =\r\n      typeof this.inputs.velocity === 'number'\r\n        ? this.inputs.velocity\r\n        : this.velocity;\r\n\r\n    if (this.inputs.vertical && this.inputs.vertical.enabled) {\r\n      this.vertical.enabled = this.inputs.vertical.enabled;\r\n      this.vertical.height = this.inputs.vertical.height;\r\n    }\r\n    this.directionSym = this.RTL ? '' : '-';\r\n    this.point =\r\n      this.inputs.point && typeof this.inputs.point.visible !== 'undefined'\r\n        ? this.inputs.point.visible\r\n        : true;\r\n\r\n    this._carouselSize();\r\n  }\r\n\r\n  private _onResizing(event: any): void {\r\n    clearTimeout(this.onResize);\r\n    this.onResize = setTimeout(() => {\r\n      if (NguCarousel.deviceWidth !== event.target.outerWidth) {\r\n        this._setStyle(this.nguItemsContainer.nativeElement, 'transition', ``);\r\n        this._storeCarouselData();\r\n      }\r\n      this.refreshCarouselWidth();\r\n\r\n    }, 500);\r\n  }\r\n\r\n  refreshCarouselWidth() {\r\n    this._carouselWidth = this.nguItemsContainer.nativeElement.offsetWidth;\r\n  }\r\n\r\n  get carouselWidth() {\r\n    log.timing('carouselWidth start');\r\n    if (!!this._carouselWidth) {\r\n      this._carouselWidth = this.nguItemsContainer.nativeElement.offsetWidth;\r\n    }\r\n    log.timing('carouselWidth end');\r\n    return this._carouselWidth;\r\n  }\r\n\r\n  /** Get Touch input */\r\n  private _touch(): void {\r\n    log.debug('_touch');\r\n    if (this.inputs.touch) {\r\n      const hammertime = new Hammer(this.touchContainer.nativeElement);\r\n      hammertime.get('pan').set({direction: Hammer.DIRECTION_HORIZONTAL});\r\n\r\n      hammertime.on('panstart', (ev: any) => {\r\n        // this.carouselWidth = this.nguItemsContainer.nativeElement.offsetWidth;\r\n        // this.touchTransform = this.transform[this.deviceType];\r\n        this.dexVal = 0;\r\n        this._setStyle(this.nguItemsContainer.nativeElement, 'transition', '');\r\n      });\r\n      if (this.vertical.enabled) {\r\n        hammertime.on('panup', (ev: any) => {\r\n          this._touchHandling('panleft', ev);\r\n        });\r\n        hammertime.on('pandown', (ev: any) => {\r\n          this._touchHandling('panright', ev);\r\n        });\r\n      } else {\r\n        hammertime.on('panleft', (ev: any) => {\r\n          this._touchHandling('panleft', ev);\r\n        });\r\n        hammertime.on('panright', (ev: any) => {\r\n          this._touchHandling('panright', ev);\r\n        });\r\n      }\r\n      /*hammertime.on('panend', (ev: any) => {\r\n        if (Math.abs(ev.velocity) >= this.velocity) {\r\n          this.touch.velocity = ev.velocity;\r\n          let direc = 0;\r\n          if (!this.RTL) {\r\n            direc = this.touch.swipe === 'panright' ? 0 : 1;\r\n          } else {\r\n            direc = this.touch.swipe === 'panright' ? 1 : 0;\r\n          }\r\n          this._carouselScrollOne(direc);\r\n        } else {\r\n          this.dexVal = 0;\r\n          this._setStyle(\r\n            this.nguItemsContainer.nativeElement,\r\n            'transition',\r\n            'transform 324ms cubic-bezier(0, 0, 0.2, 1)'\r\n          );\r\n          // this._setStyle(this.nguItemsContainer.nativeElement, 'transform', '');\r\n        }\r\n      });*/\r\n      hammertime.on('hammer.input', function (ev) {\r\n        // allow nested touch events to no propagate, this may have other side affects but works for now.\r\n        // TODO: It is probably better to check the source element of the event and only apply the handle to the correct carousel\r\n        ev.srcEvent.stopPropagation();\r\n      });\r\n    }\r\n  }\r\n\r\n  /** handle touch input */\r\n  private _touchHandling(e: string, ev: any): void {\r\n    log.debug('_touchHandling', this._carouselWidth, this.carouselWidth);\r\n    // vertical touch events seem to cause to panstart event with an odd delta\r\n    // and a center of {x:0,y:0} so this will ignore them\r\n\r\n    if (ev.center.x === 0) {\r\n      return;\r\n    }\r\n\r\n    ev = Math.abs(this.vertical.enabled ? ev.deltaY : ev.deltaX);\r\n    let valt = ev - this.dexVal;\r\n    valt =\r\n      this.type === 'responsive'\r\n        ? (Math.abs(ev - this.dexVal) /\r\n        (this.vertical.enabled\r\n          ? this.vertical.height\r\n          : this._carouselWidth)) *\r\n        100\r\n        : valt;\r\n    log.debug(valt);\r\n\r\n    this.dexVal = ev;\r\n    this.touch.swipe = e;\r\n    this._setTouchTransfrom(e, valt);\r\n    this._setTransformFromTouch();\r\n\r\n  }\r\n\r\n  private _setTouchTransfrom(e: string, valt: number) {\r\n    const condition = this.RTL ? 'panright' : 'panleft';\r\n    this.touchTransform =\r\n      e === condition ? valt + this.touchTransform : this.touchTransform - valt;\r\n  }\r\n\r\n  private _setTransformFromTouch() {\r\n\r\n    if (this.touchTransform < 0) {\r\n      this.touchTransform = 0;\r\n    }\r\n    const type = this.type === 'responsive' ? '%' : 'px';\r\n\r\n    let  maxTranslate = (this.itemWidth * this._dataSource.length) - this.carouselMain1.nativeElement.offsetWidth;\r\n\r\n    if (this.type === 'responsive') {\r\n      maxTranslate = (maxTranslate / this.carouselMain1.nativeElement.offsetWidth) * 100;\r\n    }\r\n\r\n    if (maxTranslate <= this.touchTransform) {\r\n      this.touchTransform = maxTranslate;\r\n    }\r\n\r\n    this.onMove.emit(this);\r\n    this._setStyle(\r\n      this.nguItemsContainer.nativeElement,\r\n      'transform',\r\n      this.vertical.enabled\r\n        ? `translate3d(0, ${this.directionSym}${this.touchTransform}${type}, 0)`\r\n        : `translate3d(${this.directionSym}${this.touchTransform}${type}, 0, 0)`\r\n    );\r\n  }\r\n\r\n  /** this fn used to disable the interval when it is not on the viewport */\r\n  private _onWindowScrolling(): void {\r\n    const top = this.carousel.offsetTop;\r\n    const scrollY = window.scrollY;\r\n    const heightt = window.innerHeight;\r\n    const carouselHeight = this.carousel.offsetHeight;\r\n    const isCarouselOnScreen =\r\n      top <= scrollY + heightt - carouselHeight / 4 &&\r\n      top + carouselHeight / 2 >= scrollY;\r\n\r\n    if (isCarouselOnScreen) {\r\n      this._intervalController$.next(1);\r\n    } else {\r\n      this._intervalController$.next(0);\r\n    }\r\n  }\r\n\r\n  /** store data based on width of the screen for the carousel */\r\n  private _storeCarouselData(): void {\r\n    log.timing('start');\r\n\r\n    /*this.deviceWidth = isPlatformBrowser(this.platformId)\r\n      ? window.innerWidth\r\n      : 1200;\r\n*/\r\n    log.timing('m555');\r\n     // this.carouselWidth = this.carouselMain1.nativeElement.offsetWidth;\r\n    log.timing('m557');\r\n\r\n    if (this.type === 'responsive') {\r\n      this.deviceType =\r\n        NguCarousel.deviceWidth >= 1200\r\n          ? 'lg'\r\n          : NguCarousel.deviceWidth >= 992\r\n          ? 'md'\r\n          : NguCarousel.deviceWidth >= 768\r\n            ? 'sm'\r\n            : 'xs';\r\n\r\n      this.items = this.inputs.grid[this.deviceType];\r\n      this.itemWidth = this.carouselWidth / this.items;\r\n      console.log(this.itemWidth);\r\n    } else {\r\n      this.items = Math.ceil(this.carouselWidth / this.inputs.grid.all);\r\n      this.itemWidth = this.inputs.grid.all;\r\n      this.deviceType = 'all';\r\n    }\r\n    log.timing('m575');\r\n    this.slideItems = +(this.inputs.slide < this.items\r\n      ? this.inputs.slide\r\n      : this.items);\r\n    this.load =\r\n      this.inputs.load >= this.slideItems ? this.inputs.load : this.slideItems;\r\n    this.speed =\r\n      this.inputs.speed && this.inputs.speed > -1 ? this.inputs.speed : 400;\r\n    log.timing('end');\r\n    // this._carouselPoint();\r\n    // console.log(Logger.sumTiming);\r\n  }\r\n\r\n  /** Init carousel point */\r\n  private _carouselPoint(): void {\r\n    // debugger;\r\n    // if (this.userData.point.visible === true) {\r\n    const Nos = this.dataSource.length - (this.items - this.slideItems);\r\n    this.pointIndex = Math.ceil(Nos / this.slideItems);\r\n    const pointers = [];\r\n\r\n    if (this.pointIndex > 1 || !this.inputs.point.hideOnSingleSlide) {\r\n      for (let i = 0; i < this.pointIndex; i++) {\r\n        pointers.push(i);\r\n      }\r\n    }\r\n    this.pointNumbers = pointers;\r\n    // console.log(this.pointNumbers);\r\n    this._carouselPointActiver();\r\n    if (this.pointIndex <= 1) {\r\n      this._btnBoolean(1, 1);\r\n    } else {\r\n      if (this.currentSlide === 0 && !this.loop) {\r\n        this._btnBoolean(1, 0);\r\n      } else {\r\n        this._btnBoolean(0, 0);\r\n      }\r\n    }\r\n    // }\r\n  }\r\n\r\n  /** change the active point in carousel */\r\n  private _carouselPointActiver(): void {\r\n    const i = Math.ceil(this.currentSlide / this.slideItems);\r\n    this.activePoint = i;\r\n    // console.log(this.data);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  /** set the style of the carousel based the inputs data */\r\n  private _carouselSize(): void {\r\n    this.token = this._generateID();\r\n    let dism = '';\r\n    this.styleid = `.${\r\n      this.token\r\n      } > .carousel-wrapper > .ngucarousel > .ngu-touch-container > .ngucarousel-items`;\r\n\r\n    if (this.inputs.custom === 'banner') {\r\n      this._renderer.addClass(this.carousel, 'banner');\r\n    }\r\n\r\n    if (this.inputs.animation === 'lazy') {\r\n      dism += `${this.styleid} > .item {transition: transform .6s ease;}`;\r\n    }\r\n\r\n    let itemStyle = '';\r\n    if (this.vertical.enabled) {\r\n      const itemWidth_xs = `${this.styleid} > .item {height: ${this.vertical\r\n        .height / +this.inputs.grid.xs}px}`;\r\n      const itemWidth_sm = `${this.styleid} > .item {height: ${this.vertical\r\n        .height / +this.inputs.grid.sm}px}`;\r\n      const itemWidth_md = `${this.styleid} > .item {height: ${this.vertical\r\n        .height / +this.inputs.grid.md}px}`;\r\n      const itemWidth_lg = `${this.styleid} > .item {height: ${this.vertical\r\n        .height / +this.inputs.grid.lg}px}`;\r\n\r\n      itemStyle = `@media (max-width:767px){${itemWidth_xs}}\r\n                    @media (min-width:768px){${itemWidth_sm}}\r\n                    @media (min-width:992px){${itemWidth_md}}\r\n                    @media (min-width:1200px){${itemWidth_lg}}`;\r\n    } else if (this.type === 'responsive') {\r\n      const itemWidth_xs =\r\n        this.inputs.type === 'mobile'\r\n          ? `${this.styleid} .item {flex: 0 0 ${95 /\r\n          +this.inputs.grid.xs}%; width: ${95 / +this.inputs.grid.xs}%;}`\r\n          : `${this.styleid} .item {flex: 0 0 ${100 /\r\n          +this.inputs.grid.xs}%; width: ${100 / +this.inputs.grid.xs}%;}`;\r\n\r\n      const itemWidth_sm = `${this.styleid} > .item {flex: 0 0 ${100 /\r\n      +this.inputs.grid.sm}%; width: ${100 / +this.inputs.grid.sm}%}`;\r\n      const itemWidth_md = `${this.styleid} > .item {flex: 0 0 ${100 /\r\n      +this.inputs.grid.md}%; width: ${100 / +this.inputs.grid.md}%}`;\r\n      const itemWidth_lg = `${this.styleid} > .item {flex: 0 0 ${100 /\r\n      +this.inputs.grid.lg}%; width: ${100 / +this.inputs.grid.lg}%}`;\r\n\r\n      itemStyle = `@media (max-width:767px){${itemWidth_xs}}\r\n                    @media (min-width:768px){${itemWidth_sm}}\r\n                    @media (min-width:992px){${itemWidth_md}}\r\n                    @media (min-width:1200px){${itemWidth_lg}}`;\r\n    } else {\r\n      itemStyle = `${this.styleid} .item {flex: 0 0 ${\r\n        this.inputs.grid.all\r\n        }px; width: ${this.inputs.grid.all}px;}`;\r\n    }\r\n\r\n\r\n    this._renderer.addClass(this.carousel, this.token);\r\n    if (this.vertical.enabled) {\r\n      this._renderer.addClass(\r\n        this.nguItemsContainer.nativeElement,\r\n        'nguvertical'\r\n      );\r\n      this._renderer.setStyle(\r\n        this.carouselMain1.nativeElement,\r\n        'height',\r\n        `${this.vertical.height}px`\r\n      );\r\n    }\r\n\r\n    // tslint:disable-next-line:no-unused-expression\r\n    this.RTL &&\r\n    !this.vertical.enabled &&\r\n    this._renderer.addClass(this.carousel, 'ngurtl');\r\n    this._createStyleElem(`${dism} ${itemStyle}`);\r\n    this._storeCarouselData();\r\n  }\r\n\r\n  /** logic to scroll the carousel step 1 */\r\n  private _carouselScrollOne(Btn: number): void {\r\n    let itemSpeed = this.speed;\r\n    let translateXval,\r\n      currentSlide = 0;\r\n    const touchMove = Math.ceil(this.dexVal / this.itemWidth);\r\n    this._setStyle(this.nguItemsContainer.nativeElement, 'transform', '');\r\n\r\n    if (this.pointIndex === 1) {\r\n      return;\r\n    } else if (Btn === 0 && ((!this.loop && !this.isFirst) || this.loop)) {\r\n      const slide = this.slideItems * this.pointIndex;\r\n\r\n      const currentSlideD = this.currentSlide - this.slideItems;\r\n      const MoveSlide = currentSlideD + this.slideItems;\r\n      this._btnBoolean(0, 1);\r\n      if (this.currentSlide === 0) {\r\n        currentSlide = this.dataSource.length - this.items;\r\n        itemSpeed = 400;\r\n        this._btnBoolean(0, 1);\r\n      } else if (this.slideItems >= MoveSlide) {\r\n        currentSlide = translateXval = 0;\r\n        this._btnBoolean(1, 0);\r\n      } else {\r\n        this._btnBoolean(0, 0);\r\n        if (touchMove > this.slideItems) {\r\n          currentSlide = this.currentSlide - touchMove;\r\n          itemSpeed = 200;\r\n        } else {\r\n          currentSlide = this.currentSlide - this.slideItems;\r\n        }\r\n      }\r\n      this._carouselScrollTwo(Btn, currentSlide, itemSpeed);\r\n    } else if (Btn === 1 && ((!this.loop && !this.isLast) || this.loop)) {\r\n      if (\r\n        this.dataSource.length <=\r\n        this.currentSlide + this.items + this.slideItems &&\r\n        !this.isLast\r\n      ) {\r\n        currentSlide = this.dataSource.length - this.items;\r\n        this._btnBoolean(0, 1);\r\n      } else if (this.isLast) {\r\n        currentSlide = translateXval = 0;\r\n        itemSpeed = 400;\r\n        this._btnBoolean(1, 0);\r\n      } else {\r\n        this._btnBoolean(0, 0);\r\n        if (touchMove > this.slideItems) {\r\n          currentSlide =\r\n            this.currentSlide + this.slideItems + (touchMove - this.slideItems);\r\n          itemSpeed = 200;\r\n        } else {\r\n          currentSlide = this.currentSlide + this.slideItems;\r\n        }\r\n      }\r\n      this._carouselScrollTwo(Btn, currentSlide, itemSpeed);\r\n    }\r\n  }\r\n\r\n  /** logic to scroll the carousel step 2 */\r\n  private _carouselScrollTwo(\r\n    Btn: number,\r\n    currentSlide: number,\r\n    itemSpeed: number\r\n  ): void {\r\n    // tslint:disable-next-line:no-unused-expression\r\n\r\n    if (this.dexVal !== 0) {\r\n      const val = Math.abs(this.touch.velocity);\r\n      let somt = Math.floor(\r\n        (this.dexVal / val / this.dexVal) * (NguCarousel.deviceWidth - this.dexVal)\r\n      );\r\n      somt = somt > itemSpeed ? itemSpeed : somt;\r\n      itemSpeed = somt < 200 ? 200 : somt;\r\n      this.dexVal = 0;\r\n    }\r\n    if (this.withAnim) {\r\n      this._setStyle(\r\n        this.nguItemsContainer.nativeElement,\r\n        'transition',\r\n        `transform ${itemSpeed}ms ${this.inputs.easing}`\r\n      );\r\n      this.inputs.animation &&\r\n      this._carouselAnimator(\r\n        Btn,\r\n        currentSlide + 1,\r\n        currentSlide + this.items,\r\n        itemSpeed,\r\n        Math.abs(this.currentSlide - currentSlide)\r\n      );\r\n    } else {\r\n      this._setStyle(this.nguItemsContainer.nativeElement, 'transition', ``);\r\n    }\r\n    // console.log(this.dataSource);\r\n    this.itemLength = this.dataSource.length;\r\n    this._transformStyle(currentSlide);\r\n    this.currentSlide = currentSlide;\r\n    setTimeout(() => {\r\n      this.onMove.emit(this);\r\n    }, 400);\r\n\r\n    this._carouselPointActiver();\r\n    this._carouselLoadTrigger();\r\n    this.withAnim = true;\r\n    // if (currentSlide === 12) {\r\n    //   this._switchDataSource(this.dataSource);\r\n    // }\r\n  }\r\n\r\n  /** boolean function for making isFirst and isLast */\r\n  private _btnBoolean(first: number, last: number) {\r\n    this.isFirst = !!first;\r\n    this.isLast = !!last;\r\n  }\r\n\r\n  private _transformString(grid: string, slide: number): string {\r\n    let collect = '';\r\n    collect += `${this.styleid} { transform: translate3d(`;\r\n\r\n    if (this.vertical.enabled) {\r\n      this.transform[grid] =\r\n        (this.vertical.height / this.inputs.grid[grid]) * slide;\r\n      collect += `0, -${this.transform[grid]}px, 0`;\r\n    } else {\r\n      this.transform[grid] = (100 / this.inputs.grid[grid]) * slide;\r\n      collect += `${this.directionSym}${this.transform[grid]}%, 0, 0`;\r\n    }\r\n    collect += `); }`;\r\n    return collect;\r\n  }\r\n\r\n  /** set the transform style to scroll the carousel  */\r\n  private _transformStyle(slide: number): void {\r\n    let slideCss = '';\r\n    if (this.type === 'responsive') {\r\n      slideCss = `@media (max-width: 767px) {${this._transformString(\r\n        'xs',\r\n        slide\r\n      )}}\r\n      @media (min-width: 768px) {${this._transformString('sm', slide)} }\r\n      @media (min-width: 992px) {${this._transformString('md', slide)} }\r\n      @media (min-width: 1200px) {${this._transformString('lg', slide)} }`;\r\n    } else {\r\n      this.transform.all = this.inputs.grid.all * slide;\r\n      this.touchTransform = this.transform.all;\r\n      slideCss = `${this.styleid} { transform: translate3d(${\r\n        this.directionSym\r\n        }${this.transform.all}px, 0, 0);`;\r\n    }\r\n    this.carouselCssNode.innerHTML = slideCss;\r\n  }\r\n\r\n  /** this will trigger the carousel to load the items */\r\n  private _carouselLoadTrigger(): void {\r\n    if (typeof this.inputs.load === 'number') {\r\n      this.dataSource.length - this.load <= this.currentSlide + this.items &&\r\n      this.carouselLoad.emit(this.currentSlide);\r\n    }\r\n  }\r\n\r\n  /** generate Class for each carousel to set specific style */\r\n  private _generateID(): string {\r\n    let text = '';\r\n    const possible =\r\n      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (let i = 0; i < 6; i++) {\r\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return `ngucarousel${text}`;\r\n  }\r\n\r\n  /** handle the auto slide */\r\n  private _carouselInterval(): void {\r\n    const container = this.carouselMain1.nativeElement;\r\n    if (this.interval && this.loop) {\r\n      this.listener4 = this._renderer.listen('window', 'scroll', () => {\r\n        clearTimeout(this.onScrolling);\r\n        this.onScrolling = setTimeout(() => {\r\n          this._onWindowScrolling();\r\n        }, 600);\r\n      });\r\n\r\n      const play$ = fromEvent(container, 'mouseleave').pipe(mapTo(1));\r\n      const pause$ = fromEvent(container, 'mouseenter').pipe(mapTo(0));\r\n\r\n      const touchPlay$ = fromEvent(container, 'touchstart').pipe(mapTo(1));\r\n      const touchPause$ = fromEvent(container, 'touchend').pipe(mapTo(0));\r\n\r\n      const interval$ = interval(this.inputs.interval.timing).pipe(mapTo(1));\r\n\r\n      setTimeout(() => {\r\n        this.carouselInt = merge(\r\n          play$,\r\n          touchPlay$,\r\n          pause$,\r\n          touchPause$,\r\n          this._intervalController$\r\n        )\r\n          .pipe(\r\n            startWith(1),\r\n            switchMap(val => {\r\n              this.isHovered = !val;\r\n              this.cdr.markForCheck();\r\n              return val ? interval$ : empty();\r\n            })\r\n          )\r\n          .subscribe(res => {\r\n            this._carouselScrollOne(1);\r\n          });\r\n      }, this.interval.initialDelay);\r\n    }\r\n  }\r\n\r\n  private _updateItemIndexContextAni() {\r\n    const viewContainer = this._nodeOutlet.viewContainer;\r\n    for (\r\n      let renderIndex = 0, count = viewContainer.length;\r\n      renderIndex < count;\r\n      renderIndex++\r\n    ) {\r\n      const viewRef = viewContainer.get(renderIndex) as any;\r\n      const context = viewRef.context as any;\r\n      context.count = count;\r\n      context.first = renderIndex === 0;\r\n      context.last = renderIndex === count - 1;\r\n      context.even = renderIndex % 2 === 0;\r\n      context.odd = !context.even;\r\n      context.index = renderIndex;\r\n    }\r\n  }\r\n\r\n  /** animate the carousel items */\r\n  private _carouselAnimator(\r\n    direction: number,\r\n    start: number,\r\n    end: number,\r\n    speed: number,\r\n    length: number,\r\n    viewContainer = this._nodeOutlet.viewContainer\r\n  ): void {\r\n    let val = length < 5 ? length : 5;\r\n    val = val === 1 ? 3 : val;\r\n    const collectIndex = [];\r\n\r\n    if (direction === 1) {\r\n      for (let i = start - 1; i < end; i++) {\r\n        collectIndex.push(i);\r\n        val = val * 2;\r\n        const viewRef = viewContainer.get(i) as any;\r\n        if (viewRef) {\r\n          const context = viewRef.context as any;\r\n          context.animate = {value: true, params: {distance: val}};\r\n        }\r\n      }\r\n    } else {\r\n      for (let i = end - 1; i >= start - 1; i--) {\r\n        collectIndex.push(i);\r\n        val = val * 2;\r\n        const viewRef = viewContainer.get(i) as any;\r\n        if (viewRef) {\r\n          const context = viewRef.context as any;\r\n          context.animate = {value: true, params: {distance: -val}};\r\n        }\r\n      }\r\n    }\r\n    this.cdr.markForCheck();\r\n    setTimeout(() => {\r\n      this._removeAnimations(collectIndex);\r\n    }, speed * 0.7);\r\n  }\r\n\r\n  private _removeAnimations(indexs: number[]) {\r\n    const viewContainer = this._nodeOutlet.viewContainer;\r\n    indexs.forEach(i => {\r\n      const viewRef = viewContainer.get(i) as any;\r\n      if (viewRef) {\r\n        const context = viewRef.context as any;\r\n        context.animate = {value: false, params: {distance: 0}};\r\n      }\r\n    });\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  /** Short form for setElementStyle */\r\n  private _setStyle(el: any, prop: any, val: any): void {\r\n    this._renderer.setStyle(el, prop, val);\r\n  }\r\n\r\n  /** For generating style tag */\r\n  private _createStyleElem(datas?: string) {\r\n    const styleItem = this._renderer.createElement('style');\r\n    if (datas) {\r\n      const styleText = this._renderer.createText(datas);\r\n      this._renderer.appendChild(styleItem, styleText);\r\n    }\r\n    this._renderer.appendChild(this.carousel, styleItem);\r\n    return styleItem;\r\n  }\r\n}\r\n","import { Component, HostBinding } from '@angular/core';\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'ngu-item',\r\n  templateUrl: 'ngu-item.component.html',\r\n  styleUrls: ['ngu-item.component.scss']\r\n})\r\nexport class NguItemComponent {\r\n  @HostBinding('class.item') classes = true;\r\n}\r\n","import { Component, HostBinding } from '@angular/core';\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'ngu-tile',\r\n  templateUrl: 'ngu-tile.component.html',\r\n  styleUrls: ['ngu-tile.component.scss']\r\n})\r\nexport class NguTileComponent {\r\n  @HostBinding('class.item') classes = true;\r\n}\r\n","import {\r\n  NguCarouselDefDirective,\r\n  NguCarouselItemDirective,\r\n  NguCarouselNextDirective,\r\n  NguCarouselOutlet,\r\n  NguCarouselPointDirective,\r\n  NguCarouselPrevDirective, NguCarouselWrapperDirective\r\n} from './ngu-carousel.directive';\r\nimport { NguItemComponent } from './ngu-item/ngu-item.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NguCarousel } from './ngu-carousel/ngu-carousel.component';\r\nimport { NguTileComponent } from './ngu-tile/ngu-tile.component';\r\nimport { NguCarouselService } from './ngu-carousel.service';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: [\r\n    NguCarousel,\r\n    NguItemComponent,\r\n    NguTileComponent,\r\n    NguCarouselPointDirective,\r\n    NguCarouselItemDirective,\r\n    NguCarouselNextDirective,\r\n    NguCarouselPrevDirective,\r\n    NguCarouselDefDirective,\r\n    NguCarouselWrapperDirective,\r\n    NguCarouselOutlet\r\n  ],\r\n  declarations: [\r\n    NguCarousel,\r\n    NguItemComponent,\r\n    NguTileComponent,\r\n    NguCarouselPointDirective,\r\n    NguCarouselItemDirective,\r\n    NguCarouselNextDirective,\r\n    NguCarouselPrevDirective,\r\n    NguCarouselDefDirective,\r\n    NguCarouselWrapperDirective,\r\n    NguCarouselOutlet\r\n  ],\r\n  providers: [\r\n    NguCarouselService\r\n  ]\r\n})\r\nexport class NguCarouselModule {\r\n}\r\n"]}